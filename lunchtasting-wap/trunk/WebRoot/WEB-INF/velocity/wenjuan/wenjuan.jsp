<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=320, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui, user-scalable=no">
    <title>调查问卷</title>
    <meta name="renderer" content="webkit">
    <meta name='apple-itunes-app' content='app-id=1155981225'>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telphone=yes, email=yes">
    <meta name="HandheldFriendly" content="true">
    <meta name="MobileOptimized" content="320">
    <meta name="browsermode" content="application">
    <meta name="x5-page-mode" content="app">
    <meta name="msapplication-tap-highlight" content="no">
    <link rel="stylesheet" href='http://static.mperfit.com/css/common_css/bootstrap.min.css'>
    <link rel="stylesheet" href='http://static.mperfit.com/css/wap/wenjuan/index.css'>
</head>

<body style="overflow-x: hidden;">
    <div class="wrapper-Box">
        <header class="header">
            <h1 class="header-logo"><img src="http://static.mperfit.com/image/wap/wenjuan/logo.png" alt=""></h1>
        </header>
        <p class="btn_bg"><img src="http://static.mperfit.com/image/wap/wenjuan/btn_bg.png" alt=""></p>
        <section class="issue issue-check" type="1">
            <h3 lang="1"><i>01</i><span>请选择你的性别</span></h3>
            <p><label><input type="radio" name="sex" value="A">男</label></p>
            <p><label><input type="radio" name="sex" value="B">女</label></p>
        </section>
        <section class="issue issue-check" type="1">
            <h3 lang="2"><i>02</i><span>你在业余时间会参与什么活动？</span></h3>
            <p><label><input type="radio" name="sports" value="A">参加社团组织</label></p>
            <p><label><input type="radio" name="sports" value="B">外出游玩</label></p>
            <p><label><input type="radio" name="sports" value="C">呆在宿舍休息</label></p>
            <p><label><input type="radio" name="sports" value="D">在学校或周边运动</label></p>
        </section>
        <section class="issue issue-check" type="1">
            <h3 lang="3"><i>03</i><span>你平均每月消费额度大约在？</span></h3>
            <p><label><input type="radio" name="aim" value="A">500—1000元</label></p>
            <p><label><input type="radio" name="aim" value="B">1000—2000元</label></p>
            <p><label><input type="radio" name="aim" value="C">2000—4000元</label></p>
            <p><label><input type="radio" name="aim" value="D">4000元以上</label></p>
        </section>
        <section class="issue issue-check" type="1">
            <h3 lang="4"><i>04</i><span>当你感觉压力很大时，你会？</span></h3>
            <p><label><input type="radio" name="rate" value="A">离开周边环境，好好放松一下</label></p>
            <p><label><input type="radio" name="rate" value="B">找个别的事情，分散一下自己精力</label></p>
            <p><label><input type="radio" name="rate" value="C">向其他人诉说，排解压力</label></p>
            <p><label><input type="radio" name="rate" value="D">只想一个人好好休息</label></p>
        </section>
        <div class="blue-bg">
            <section class="grew issue issue-check" mar="bom" type="1">
                <h3 lang="5"><i>05</i><span>如果有其他学校和你们学校进行体育比赛，你会？</span></h3>
                <p><label><input type="radio" name="spmatch" value="A">义无反顾的参与并支持</label></p>
                <p><label><input type="radio" name="spmatch" value="B">看比赛项目参与，但是肯定会支持</label></p>
                <p><label><input type="radio" name="spmatch" value="C">不一定会支持哪一方</label></p>
                <p><label><input type="radio" name="spmatch" value="D">和我没关系</label></p>
            </section>
            <section class="grew issue issue-check" mar="bom" type="1">
                <h3 lang="6"><i>06</i><span>如果其他学校的人指责你们学校错误，你会？</span></h3>
                <p><label><input type="radio" name="outdoor" value="A">据理力争，维护自己学校的名誉</label></p>
                <p><label><input type="radio" name="outdoor" value="B">通过别的方式反驳，找出他们的错误</label></p>
                <p><label><input type="radio" name="outdoor" value="C">查证属实的话对我们学校印象下降</label></p>
                <p><label><input type="radio" name="outdoor" value="D">无所谓，爱说什么都行</label></p>
            </section>
            <section class="grew issue issue-check" mar="bom" type="1">
                <h3 lang="7"><i>07</i><span>对你来说现在最大的任务是什么？</span></h3>
                <p><label><input type="radio" name="Attract" value="A">学好自己专业</label></p>
                <p><label><input type="radio" name="Attract" value="B">趁年轻，好好玩一玩</label></p>
                <p><label><input type="radio" name="Attract" value="C">多认识一些朋友</label></p>
                <p><label><input type="radio" name="Attract" value="D">拓展一下自己的世界观</label></p>
            </section>
            <section class="grew issue issue-check" mar="bom" type="1">
                <h3 lang="8"><i>08</i><span>你对自己未来规划是什么？</span></h3>
                <p><label><input type="radio" name="Design" value="A">我想自己创业</label></p>
                <p><label><input type="radio" name="Design" value="B">找一份工作，稳定的生活</label></p>
                <p><label><input type="radio" name="Design" value="C">追逐自己的理想</label></p>
                <p><label><input type="radio" name="Design" value="D">还没有这么长远的规划</label></p>
            </section>
            <section class="grew issue issue-check" mar="bom" type="1">
                <h3 lang="9"><i>09</i><span>生活就像一条路，当你遇到阻碍你会怎么处理？</span></h3>
                <p><label><input type="radio" name="reward" value="A">自己努力翻越，不惜一切代价</label></p>
                <p><label><input type="radio" name="reward" value="B">换个方式，绕过阻碍</label></p>
                <p><label><input type="radio" name="reward" value="C">找朋友陪我一起走</label></p>
                <p><label><input type="radio" name="reward" value="D">可能走错了，放弃这条路</label></p>
            </section>
        </div>
        <section class="issue issue-check" type="1">
            <h3 lang="10"><i>10</i><span>你对什么样的事情会感兴趣并参与？</span></h3>
            <p><label><input type="radio" name="Social" value="A">充满新鲜感的事物，并且想去尝试</label></p>
            <p><label><input type="radio" name="Social" value="B">已知的事情，并用自己的方法能估算出事情的走向</label></p>
            <p><label><input type="radio" name="Social" value="C">当前热门的事情，会跟大家一起参与</label></p>
            <p><label><input type="radio" name="Social" value="D">什么都有可能，只要兴趣点找对了就会参与</label></p>
        </section>
        <section class="issue issue-check" type="2">
            <h3 lang="11"><i>11</i><span>作为一名95后大学生，你认为自己是？（多选）</span></h3>
            <p><label><input type="checkbox" name="rely" value="A">个性务实</label></p>
            <p><label><input type="checkbox" name="rely" value="B">追求存在感</label></p>
            <p><label><input type="checkbox" name="rely" value="C">有自己的价值观</label></p>
            <p><label><input type="checkbox" name="rely" value="D">敢作敢为</label></p>
            <p><label><input type="checkbox" name="rely" value="E">八卦逗比</label></p>
            <p><label><input type="checkbox" name="rely" value="F">独立自信</label></p>
            <p><label><input type="checkbox" name="rely" value="G">热情冲动 </label></p>
            <p><label><input type="checkbox" name="rely" value="H">爱冒险</label></p>
        </section>
        <section class="issue issue-check" type="2">
            <h3 lang="12"><i>12</i><span>你平时最大的获取信息的渠道是？（多选）</span></h3>
            <p><label><input type="checkbox" name="rednet" value="A">QQ空间</label></p>
            <p><label><input type="checkbox" name="rednet" value="B">微博</label></p>
            <p><label><input type="checkbox" name="rednet" value="C">微信朋友圈</label></p>
            <p><label><input type="checkbox" name="rednet" value="D">门户网站</label></p>
            <p><label><input type="checkbox" name="rednet" value="E">聊天</label></p>
            <p><label><input type="checkbox" name="rednet" value="F">新闻媒体</label></p>
        </section>
        <section class="issue issue-check" type="1">
            <h3 lang="13"><i>13</i><span>当你遇到比较大的困难时，你第一时间会想到的是？</span></h3>
            <p><label><input type="radio" name="Circle" value="A">直面困难，用自己的方式解决并承担</label></p>
            <p><label><input type="radio" name="Circle" value="B">寻求长辈帮助，用经验去化解一部分困难</label></p>
            <p><label><input type="radio" name="Circle" value="C">寻求好友相助，共同承担困难</label></p>
            <p><label><input type="radio" name="Circle" value="D">社会化寻求解决方案，众筹解决方案</label></p>
        </section>
        <section class="issue issue-check" type="1">
            <h3 lang="14"><i>14</i><span>如果面试的时候，你遇到一个人是你之前的朋友，但你们之间发生过不愉快，你会？</span></h3>
            <p><label><input type="radio" name="need" value="A">寻求其他好友帮忙，打通关系</label></p>
            <p><label><input type="radio" name="need" value="B">做好自己，该怎样就怎样</label></p>
            <p><label><input type="radio" name="need" value="C">和陌生人诉说，请教解决方式</label></p>
            <p><label><input type="radio" name="need" value="D">放弃这家公司，不想再产生关系</label></p>
        </section>
        <section class="issue issue-text" type="3">
            <h3 lang="15"><i>15</i><span>你最近关注的明星或者网红是谁？请写出</span></h3>
            <p><input class="text1 noBorder" type="text" name="item" value=""></p>
        </section>
        <footer class="footer">
            <button type="button" id="btn">提交问卷</button>
        </footer>
    </div>
</body>

<script src="http://static.mperfit.com/js/common_js/jquery-1.12.0.min.js"></script>
<script>
    jQuery("#btn").click(function(event) {
        if (confirm("确定要提交吗？")) {
            var cut = false;
            jQuery(".issue-check").each(function() {
                var list = jQuery(this).find("input:checked").val();
                if (list == null) {
                    cut = false;
                    return false; 
                } else {
                    cut = true;
                }
            });
            jQuery(".issue-text").each(function(){
                var text = jQuery(this).find('input').val();
                if (text == '') {
                    cut = false;
                    return false; 
                }
            });
            if (cut == false) {
                alert("请填写完整!");
                return false;
            }

            //收集数据
            var alldata=[];
            //单选
            jQuery('.issue').each(function(i,dom) {
                //问题序号
                var issueNum = jQuery(this).children('h3').attr('lang');
                  issueNum = parseInt(issueNum);
                //问题说明
                var issueDes = jQuery(this).find('span').text();
                //类型
                var issueType = jQuery(this).attr('type');
                if(jQuery(this).attr('type') == 1){
                    //单选答案
                    var issueChecked = jQuery(this).find("input[type='radio']:checked").val();
                    alldata[i]={"issueNum":issueNum+16,"issueDes":issueDes,"issueChecked":issueChecked,"type":issueType};
                }else if(jQuery(this).attr('type') == 2){
                    //多选答案
                    var issueChecked = [];
                    var obj = jQuery(this).find("input[type='checkbox']");
                    for(k in obj){
                        if(obj[k].checked)
                            issueChecked.push(obj[k].value);
                    }
                    var issueChecked = issueChecked.join(',');
                    alldata[i]={"issueNum":issueNum+16,"issueDes":issueDes,"issueChecked":issueChecked,"type":issueType};
                }else if(jQuery(this).attr('type') == 3){
                	//填空
                	var issueChecked = jQuery(this).find("input[type='text']").val();
                    alldata[i]={"issueNum":issueNum+16,"issueDes":issueDes,"issueChecked":issueChecked,"type":issueType};
                }
            });
            var data = {
                'alldata': alldata
            }
            var date = {
                'date':JSON.stringify(data)
            }
            jQuery.ajax({
                url: '/questionnaire/entering',
                data: date,
                type: 'post',
                success: function(data) {
                    alert("谢谢您的参与");
                    $("#btn").hide();
                },
                error: function(err) {
                    alert("服务器连接失败");
                }
            })
        }
    })
</script>

</html>
